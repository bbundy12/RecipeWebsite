<!DOCTYPE html>
<!-- 
  Section 003
  Group 15
  Brendan Bundy, Jakob Blosil, McKenna Alder, Tanner Atkin

  This page is the survey that will be used to collect data for Provo City Council.
  The page is made to be compatible with mobile devices as most surveys will likely be taken on a phone.
 -->
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Survey</title>
  <!-- Favicon -->
  <link rel="icon" href="/favicon.png" type="image/x-icon">
  <!-- CSS -->
  <link rel="stylesheet" href="/styles.css">
  <link rel="stylesheet" href="/forms.css">
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
</head>

<body>

  <!-- Create Recipe -->
  <form action="/storeSurvey" method="post">
    <h2>Create Recipe</h2>

    <!-- Recipe Title -->
    <p>Recipe Title</p>
    <input id="recipe_title" type="text" name="recipe_title" required />

    <!-- Servings -->
    <p>Servings</p>
    <div class="radioSelector">
      <input id="1-serving" value="1" name="servings" type="radio" required />
      <label for="1-serving" style="border-radius: 2px 0 0 2px;">1</label>
      <input id="2-4-serving" value="2-4" name="servings" type="radio" required />
      <label for="2-4-serving">2-4</label>
      <input id="4-6-serving" value="4-6" name="servings" type="radio" required />
      <label for="4-6-serving">4-6</label>
      <input id="6-8-serving" value="6-8" name="servings" type="radio" required />
      <label for="6-8-serving">6-8</label>
      <input id="10-serving" value="10+" name="servings" type="radio" required />
      <label for="10-serving" style="border-radius: 0 2px 2px 0;">10+</label>
    </div>

    <!-- Ingredients -->
    <p>Ingredients</p>
    <div class="question-divider"></div>
    <div id="ingredient-container"></div>
    <button type="button" onclick="addIngredient()">Add Ingredient</button>


    <!-- Recipe Instructions -->
    <p>Recipe Instructions</p>
    <textarea id="recipe_instructions" name="recipe_instructions" rows="5" required></textarea>


    <!-- Survey Submit -->
    <button type="submit">Submit Survey</button>
  </form>

  <!-- JS -->
  <script>

    // dynamically add ingredients
    function addIngredient() {

      // define variables
      const container = document.getElementById('ingredient-container');
      const ingredientDiv = document.createElement('div');

      // add html with button
      ingredientDiv.innerHTML = `
        <input type="text" name="ingredient[]" placeholder="Ingredient" required>
        <input type="number" name="quantity[]" placeholder="Quantity" required>

        <p>Measurement</p>
        <div class="radioSelector">
          <input id="1-serving" value="1" name="measurement[]" type="radio" required />
          <label for="1-serving" style="border-radius: 2px 0 0 2px;">pinch</label>
          <input id="2-4-serving" value="2-4" name="measurement[]" type="radio" required />
          <label for="2-4-serving">tsp</label>
          <input id="2-4-serving" value="2-4" name="measurement[]" type="radio" required />
          <label for="2-4-serving">tbsp</label>
          <input id="4-6-serving" value="4-6" name="measurement[]" type="radio" required />
          <label for="4-6-serving">cup</label>
          <input id="6-8-serving" value="6-8" name="measurement[]" type="radio" required />
          <label for="6-8-serving">oz</label>
          <input id="10-serving" value="10+" name="measurement[]" type="radio" required />
          <label for="10-serving" style="border-radius: 0 2px 2px 0;">lb</label>
        </div>


        <button type="button" onclick="removeIngredient(this)">Remove</button>
        <br>
      `;
      container.appendChild(ingredientDiv);
    }

    // remove ingredient
    function removeIngredient(button) {
      const container = document.getElementById('ingredientsContainer');
      container.removeChild(button.parentElement);
    }
  </script>
</body>

</html>